<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sala VIP Â· Ruleta Secreta</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{ --gold1:#d4af37; --gold2:#f6e27a; --gold3:#b8891d; }
*{box-sizing:border-box}
body{
  margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column;
  background: radial-gradient(1200px 600px at 50% 0%, rgba(212,175,55,.22), transparent 60%) #0a0a0a;
  color:#fff; font-family:'Poppins',system-ui,Arial; text-align:center; padding:22px;
}
.header{max-width:720px}
.logo{font-weight:700; letter-spacing:.12em; font-size:13px; color:#f2d98b; margin-bottom:6px; opacity:.9}
h1{font-size:26px; margin:4px 0 6px}
p{opacity:.92; margin:0 0 14px}
.wrap{display:flex; flex-direction:column; align-items:center; gap:18px; margin-top:10px}
.wheel-area{position:relative; width:320px; height:320px}
.wheel{
  width:100%; height:100%; border-radius:50%;
  border:6px solid #f2d98b;
  background:conic-gradient(#1f1a0f 0 45deg,#3a2e15 45deg 90deg,#1f1a0f 90deg 135deg,#3a2e15 135deg 180deg,#1f1a0f 180deg 225deg,#3a2e15 225deg 270deg,#1f1a0f 270deg 315deg,#3a2e15 315deg 360deg);
  box-shadow:0 0 40px rgba(212,175,55,.55), inset 0 0 40px rgba(0,0,0,.6);
  position:relative; display:grid; place-items:center;
  transition: transform 4.2s cubic-bezier(.17,.67,.18,1.02);
}
.pin{
  position:absolute; top:-10px; left:50%; transform:translateX(-50%);
  width:0; height:0; border-left:10px solid transparent; border-right:10px solid transparent; border-bottom:18px solid #f2d98b;
}
.center{
  position:absolute; width:88px; height:88px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, #edd38a 35%, #b8891d 75%);
  border:4px solid #f2d98b; display:grid; place-items:center; font-weight:800; color:#111;
}
.center small{display:block; font-size:10px; letter-spacing:.1em}
.labels{position:absolute; inset:0; pointer-events:none; display:flex; align-items:center; justify-content:center}
.label{position:absolute; width:50%; left:50%; transform-origin:0% 50%; text-align:right; padding-right:14px; font-size:13px; font-weight:600; color:#f7f3d6}
.controls{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
.btn{
  background: linear-gradient(90deg, var(--gold1), var(--gold2)); color:#111;
  border:none; border-radius:12px; padding:12px 20px; font-weight:800; cursor:pointer;
  box-shadow:0 0 18px rgba(212,175,55,.55); transition:transform .15s ease, box-shadow .2s ease;
}
.btn:hover{transform:translateY(-1px) scale(1.02); box-shadow:0 0 28px rgba(212,175,55,.85)}
.btn:disabled{opacity:.55; cursor:not-allowed}
.card{
  background: linear-gradient(180deg, rgba(242,217,139,.14), rgba(242,217,139,.04));
  border:1px solid rgba(242,217,139,.25);
  border-radius:14px; padding:12px 14px; max-width:680px; margin-top:8px; font-size:13px
}
.result{font-size:18px; font-weight:700; margin-top:10px; color:#b6ffbc}
.footer{opacity:.55; font-size:12px; margin-top:18px}
.win-glow{
  box-shadow:0 0 40px rgba(255,215,0,.9) inset, 0 0 20px rgba(255,215,0,.9)!important;
}

/* Confetti */
#confetti {
  position: fixed;
  top:0; left:0; width:100vw; height:100vh;
  pointer-events:none; overflow:hidden;
}
.confetti-piece {
  position: absolute;
  width: 8px; height: 14px;
  background: var(--gold2); opacity:.9;
  animation: fall 2.4s linear forwards;
  border-radius: 2px;
}
@keyframes fall {
  0% { transform:translateY(-10vh) rotate(0deg); }
  100%{ transform:translateY(100vh) rotate(360deg); opacity:0; }
}
</style>
</head>
<body>
<div class="header">
  <div class="logo">SALA VIP Â· ACCESO CONCEDIDO</div>
  <h1>Ruleta VIP Secreta</h1>
  <p>Un giro por dÃ­a. Acceso exclusivo.</p>
</div>

<div class="wrap">
  <div class="wheel-area">
    <div class="pin"></div>
    <div id="wheel" class="wheel">
      <div class="labels" id="labels"></div>
      <div class="center"><small>VIP</small>RUEDA</div>
    </div>
  </div>

  <div class="controls">
    <button class="btn" id="spinBtn">Girar ahora</button>
    <button class="btn" id="rulesBtn">Reglas</button>
  </div>

  <div id="info" class="card">Premios: 500 fichas, 200 fichas, 100 fichas, 10% bono, Giro extra, Cashback 5%, Mystery, 0</div>
  <div id="message" class="result"></div>

  <a id="whatsappBtn" href="#" class="btn" style="display:none; margin-top:10px;">
    Validar premio por WhatsApp
  </a>

  <div class="footer">DiseÃ±o Casino Elite</div>
</div>

<div id="confetti"></div>

<script>
// Premios visuales
const prizes = [
  "200 fichas","Giro extra","500 fichas","10% bono",
  "100 fichas","Mystery","0","Cashback 5%"
];
const forcedIndex = prizes.indexOf("500 fichas");
const labels = document.getElementById('labels');
const slices = prizes.length;
const sliceAngle = 360 / slices;

// Dibuja textos
for (let i=0;i<slices;i++){
  const el=document.createElement('div');
  el.className='label';
  const angle=(i*sliceAngle)+(sliceAngle/2);
  el.style.transform=`rotate(${angle}deg) translateX(-6px)`;
  el.innerText=prizes[i];
  labels.appendChild(el);
}

const wheel=document.getElementById('wheel');
const spinBtn=document.getElementById('spinBtn');
const rulesBtn=document.getElementById('rulesBtn');
const message=document.getElementById('message');
const whatsappBtn=document.getElementById('whatsappBtn');

// 1 giro por dÃ­a
const todayKey=(()=>{const d=new Date();return`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`})();
const spinKey='vip_spin_'+todayKey;
if(localStorage.getItem(spinKey)==='used'){
  spinBtn.disabled=true;
  message.innerHTML="Giro usado hoy. VolvÃ© maÃ±ana.";
}

// Minimizar acceso directo
const params=new URLSearchParams(location.search);
if(params.get('pass')!=='ok'){ }

// Spin
let spinning=false, currentRotation=0;
spinBtn.addEventListener('click',()=>{
  if(spinning||spinBtn.disabled)return;
  spinning=true; spinBtn.disabled=true;
  localStorage.setItem(spinKey,'used');

  const targetCenter=(forcedIndex*sliceAngle)+(sliceAngle/2);
  const baseTurns=6;
  const currentMod=((currentRotation%360)+360)%360;
  const needed=(360-targetCenter-currentMod+360)%360;
  const delta=(baseTurns*360)+needed;

  currentRotation+=delta;
  wheel.style.transform=`rotate(${currentRotation}deg)`;

  setTimeout(()=>{
    message.innerHTML="Premio otorgado: <strong>500 fichas</strong>";
    document.querySelector('.center').classList.add("win-glow");
    launchConfetti(80);
    whatsappBtn.style.display="inline-block";
    whatsappBtn.href="https://wa.me/541167907135?text=Hola!%20acabo%20de%20ganar%20500%20fichas%20en%20la%20Sala%20VIP%20ðŸŽ°";
    spinning=false;
  },4300);
});

rulesBtn.addEventListener('click',()=>{
  alert("Reglas:\nâ€¢ Un giro por dÃ­a\nâ€¢ Premio VIP fijo: 500 fichas\nâ€¢ Acceso limitado");
});

// Confetti
function launchConfetti(amount){
  const confetti=document.getElementById('confetti');
  for(let i=0;i<amount;i++){
    const piece=document.createElement('div');
    piece.classList.add('confetti-piece');
    piece.style.left=Math.random()*100+'vw';
    piece.style.background=Math.random()>.5?'gold':'#f6e27a';
    confetti.appendChild(piece);
    setTimeout(()=>piece.remove(),2400);
  }
}
</script>
</body>
</html>
